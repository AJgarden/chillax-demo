/*!
 * scrollview.js alpha v1.7
 * @copyright 2021 AJgarden
 * ##### Author: Jia #####
 * ##### Update: 2021/11/05 #####
 */
$.fn.scrollView=function(t){var s,l,d=$(this);"destroy"===t?d.removeAttr("data-scroll-view"):(d.attr("data-scroll-view","init"),s=$.extend({},{start:"default",end:null,endKey:"bottom",threshold:-200,addClass:"scroll-view",repeat:!1,onInit:function(t){return!1},onChange:function(t){return!1},onChangeAtStart:function(t){return!1},onChangeAtEnd:function(t){return!1},onAddClass:function(t){return!1},onAddClassAtStart:function(t){return!1},onAddClassAtEnd:function(t){return!1},onRemoveClass:function(t){return!1},onRemoveClassAtStart:function(t){return!1},onRemoveClassAtEnd:function(t){return!1}},t),d.each(function(t,n){n=$(n);s.onInit.call(this,n)}),l=d.map(()=>0),$(window).on("scroll",function(){var a=$(window).scrollTop();d.each(function(t,n){var o,e;"init"===d.attr("data-scroll-view")&&(!1===(n=$(n)).hasClass(s.addClass)?(o="default"===s.start?n.offset().top-$(window).height():"string"==typeof s.start?$(s.start).offset().top-$(window).height():s.start,o=Math.max(o,1),!0===s.repeat?null!==s.end?(e="string"==typeof s.end?"top"===s.endKey?$(s.end).offset().top-$(window).height():"number"==typeof s.endKey?$(s.end).offset().top+$(s.end).outerHeight()*s.endKey-$(window).height():$(s.end).offset().top+$(s.end).outerHeight()-$(window).height():s.end,e=Math.min(e,$(document).height()-1),a+s.threshold>=o&&l[t]<o?(n.addClass(s.addClass),"function"==typeof s.onAddClassAtStart&&s.onAddClassAtStart.call(this,n),"function"==typeof s.onAddClass&&s.onAddClass.call(this,n),"function"==typeof s.onChangeAtStart&&s.onChangeAtStart.call(this,n),"function"==typeof s.onChange&&s.onChange.call(this,n)):a+s.threshold<=e&&l[t]>e&&(n.addClass(s.addClass),"function"==typeof s.onAddClassAtEnd&&s.onAddClassAtEnd.call(this,n),"function"==typeof s.onAddClass&&s.onAddClass.call(this,n),"function"==typeof s.onChangeAtEnd&&s.onChangeAtEnd.call(this,n),"function"==typeof s.onChange&&s.onChange.call(this,n))):a+s.threshold>=o&&l[t]<o&&(n.addClass(s.addClass),"function"==typeof s.onAddClassAtStart&&s.onAddClassAtStart.call(this,n),"function"==typeof s.onAddClass&&s.onAddClass.call(this,n),"function"==typeof s.onChangeAtStart&&s.onChangeAtStart.call(this,n),"function"==typeof s.onChange&&s.onChange.call(this,n)):a+s.threshold>=o&&(n.addClass(s.addClass),"function"==typeof s.onAddClassAtStart&&s.onAddClassAtStart.call(this,n),"function"==typeof s.onAddClass&&s.onAddClass.call(this,n),"function"==typeof s.onChangeAtStart&&s.onChangeAtStart.call(this,n),"function"==typeof s.onChange&&s.onChange.call(this,n))):!0===s.repeat&&(o="default"===s.start?n.offset().top-$(window).height():"string"==typeof s.start?$(s.start).offset().top-$(window).height():s.start,o=Math.max(o,1),null!==s.end?(e="string"==typeof s.end?"top"==s.endKey?$(s.end).offset().top-$(window).height():"number"==typeof s.endKey?$(s.end).offset().top+$(s.end).outerHeight()*s.endKey-$(window).height():$(s.end).offset().top+$(s.end).outerHeight()-$(window).height():s.end,e=Math.min(e,$(document).height()-1),a+s.threshold<o&&l[t]>=o?(n.removeClass(s.addClass),"function"==typeof s.onRemoveClassAtStart&&s.onRemoveClassAtStart.call(this,n),"function"==typeof s.onRemoveClass&&s.onRemoveClass.call(this,n),"function"==typeof s.onChangeAtStart&&s.onChangeAtStart.call(this,n),"function"==typeof s.onChange&&s.onChange.call(this,n)):a+s.threshold>e&&l[t]<=e&&(n.removeClass(s.addClass),"function"==typeof s.onRemoveClassAtEnd&&s.onRemoveClassAtEnd.call(this,n),"function"==typeof s.onRemoveClass&&s.onRemoveClass.call(this,n),"function"==typeof s.onChangeAtEnd&&s.onChangeAtEnd.call(this,n),"function"==typeof s.onChange&&s.onChange.call(this,n))):a+s.threshold>e&&l[t]<=e&&(n.removeClass(s.addClass),"function"==typeof s.onRemoveClassAtEnd&&s.onRemoveClassAtEnd.call(this,n),"function"==typeof s.onRemoveClass&&s.onRemoveClass.call(this,n),"function"==typeof s.onChangeAtEnd&&s.onChangeAtEnd.call(this,n),"function"==typeof s.onChange&&s.onChange.call(this,n))),l[t]=a)})}).trigger("scroll"),$(window).on("resize",function(){$(this).trigger("scroll")}))};